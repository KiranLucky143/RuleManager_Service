<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Rules Management</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"/>
</head>

<body style="
    margin:0;
    font-family: 'Poppins', sans-serif;
    background: linear-gradient(135deg, #071028, #08142b 40%, #0b1f36);
    color:#e9f4ff;
    min-height:100vh;
">

<!-- ‚úÖ Top Navigation Bar (Glass Look) -->
<div style="
    display:flex;
    align-items:center;
    justify-content:space-between;
    height:70px;
    padding:0 22px;
    background:rgba(6,14,28,0.6);
    backdrop-filter: blur(4px);
    box-shadow:0 4px 18px rgba(0,0,0,0.45);
    position:sticky;
    top:0;
    z-index:50;
">


    <div style="font-size:22px;font-weight:700;color:#1fa6ff">Credit Decision Engine</div>
</div>

<!-- ‚úÖ Page Content -->
<div style="padding:30px;">
    <div style="
        background: rgba(255,255,255,0.05);
        padding:25px;
        border-radius:12px;
        box-shadow:0 8px 26px rgba(2,8,20,0.5);
        max-width:1200px;
        margin:auto;
    ">

        <div class="d-flex justify-content-between align-items-center mb-3">
            <h4 style="color:#1fa6ff;font-weight:700;">Rule Management</h4>
            <a href="/rules/new" class="btn btn-info btn-sm">‚ûï Add Rule</a>
        </div>

        <table class="table table-dark table-hover table-bordered align-middle" style="border-radius:10px; overflow:hidden;">
            <thead class="table-secondary text-dark">
            <tr>
                <th>ID</th>
                <th>Rule Name</th>
                <th>Type</th>
                <th>Active</th>
                <th>File</th>
                <th>Actions</th>
            </tr>
            </thead>

            <tbody>
            <tr th:each="rule : ${rules}">
                <td th:text="${rule.id}"></td>
                <td th:text="${rule.ruleName}"></td>
                <td>
                    <span class="badge bg-info" th:text="${rule.ruleType}"></span>
                </td>
                <td>
                    <span th:if="${rule.active}" class="badge bg-success">‚úÖ Yes</span>
                    <span th:unless="${rule.active}" class="badge bg-secondary">‚ùå No</span>
                </td>
                <td>
                    <span th:if="${rule.ruleFile != null}">
                        <a th:href="@{'/rules/download/' + ${rule.id}}" class="btn btn-sm btn-outline-info">‚¨á Download</a>
                    </span>
                    <span th:unless="${rule.ruleFile != null}" class="text-muted">‚Äî</span>
                </td>
                <td>
                    <a th:href="@{/rules/edit/{id}(id=${rule.id})}" class="btn btn-warning btn-sm me-2">‚úè Edit</a>
                    <a th:href="@{/rules/delete/{id}(id=${rule.id})}" class="btn btn-danger btn-sm"
                       onclick="return confirm('Are you sure you want to delete this rule?');">üóë Delete</a>
                </td>
            </tr>
            </tbody>
        </table>
    </div>
</div>

</body>
</html>
